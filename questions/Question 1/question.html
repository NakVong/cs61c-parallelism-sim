<pl-question-panel>
    <p>Create a trace table that results in the following state for two threads: y = -2</p>
    <pl-code language="c">
    int a = 5;
    int b = 0;

    #pragma omp parallel
    {
        while (a > 0)
        {
            b = b + 2;
            a = a - 1;
        }
    }
    </pl-code>
</pl-question-panel>



<pl-grid>
    <pl-source> <!-- elements in source grid -->
        <pl-element x = 0 y = 0 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 0 color = "#ffffff">b++2</pl-element>
        <pl-element x = 4 y = 0 color = "#ffffff">write b</pl-element>
        <pl-element x = 6 y = 0 color = "#ffffff">read a</pl-element>
        <pl-element x = 8 y = 0 color = "#ffffff">a--</pl-element>
        <pl-element x = 10 y = 0 color = "#ffffff">write a</pl-element>
    </pl-source>

    <pl-destination> <!-- Define how destination grid is prepopulated -->
        <pl-element x = 0 y = 0 color = "#d8bfd8">main</pl-element>
        <pl-element x = 0 y = 1 color = "#d8bfd8">init a</pl-element>
        <pl-element x = 0 y = 2 color = "#d8bfd8">init b</pl-element>
        <pl-element x = 0 y = 3 color = "#d8bfd8">#pragma omp parallel num_threads(2)</pl-element>
        <pl-element x = 2 y = 3 color = "#f08080">thread 1</pl-element>
        <pl-element x = 4 y = 3 color = "#e0ffff">thread 2</pl-element>  
    </pl-destination>
    
    <pl-answer-grid> <!-- Define solution grid (not shown to student) -->
        <pl-element x = 0 y = 0 color = "#d8bfd8">main</pl-element>
        <pl-element x = 0 y = 1 color = "#d8bfd8">init a</pl-element>
        <pl-element x = 0 y = 2 color = "#d8bfd8">init b</pl-element>
        <pl-element x = 0 y = 3 color = "#d8bfd8">#pragma omp parallel num_threads(2)</pl-element>
        <pl-element x = 2 y = 3 color = "#f08080">thread 1</pl-element>
        <pl-element x = 2 y = 4 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 5 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 6 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 7 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 8 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 9 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 10 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 11 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 12 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 13 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 14 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 15 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 16 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 17 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 18 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 19 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 20 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 21 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 22 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 23 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 24 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 25 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 26 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 27 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 28 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 29 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 30 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 31 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 32 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 33 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 34 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 35 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 36 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 37 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 38 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 4 y = 3 color = "#e0ffff">thread 2</pl-element> 
        <pl-element x = 4 y = 4 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 39 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 40 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 41 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 42 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 43 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 44 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 45 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 46 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 47 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 48 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 49 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 50 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 51 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 52 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 53 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 54 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 55 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 56 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 57 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 58 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 59 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 60 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 61 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 62 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 63 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 64 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 65 color = "#ffffff">write a</pl-element>
        
        <pl-element x = 2 y = 66 color = "#ffffff">read a</pl-element>
        
        <pl-element x = 2 y = 67 color = "#ffffff">read b</pl-element>
        <pl-element x = 2 y = 68 color = "#ffffff">b++2</pl-element>
        <pl-element x = 2 y = 69 color = "#ffffff">write b</pl-element>
        <pl-element x = 2 y = 70 color = "#ffffff">read a</pl-element>
        <pl-element x = 2 y = 71 color = "#ffffff">a--</pl-element>
        <pl-element x = 2 y = 72 color = "#ffffff">write a</pl-element>
        
    </pl-answer-grid>
</pl-grid>

